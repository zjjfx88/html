<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<!--
	作者：zjj7842806@163.com
	时间：2017-12-27
	描述：jQuery_4.html的升级版，增加功能
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title></title>
		<style type="text/css">
			.hide{
				display: none;
			}
			.model{
				position: fixed;
				top: 50%;
				left: 50%;
				width: 500px;
				height: 500px;
				margin-left: -250px;
				margin-top: -250px;
				background-color: #eeeeee;
				z-index: 10;
			}
			.shadow{
				position: fixed;
				left: 0;
				top: 0;
				right: 0;
				bottom: 0;
				opacity: 0.6;
				background-color: black;
				z-index: 9;
			}
		</style>
	</head>
	<body>
		<a onclick="addElement();">添加</a>
		
		
		<div class="model hide">
			<div>
				<input type="text" name="host" />
				<input type="text" name='port' />
			</div>
			<div>
				<input type="button" value="取消" onclick="cancelmodel();" />
				<input type="button" value="确定" onclick="confirmmodel();" />
			</div>
		</div>
		<div>
			<table border="1px" cellspacing="" cellpadding="" class="tb">
				<thead><tr><th>选项</th><th>IP</th><th>端口</th><th>操作</th></tr></thead>
				<tbody>
					<tr>
						<td><input type="checkbox" /></td>
						<td>10.134.1.1</td>
						<td>8888</td>
						<td>
							<a class="edit">编辑</a> | <a class="del">删除</a>
						</td>
					</tr>
					<tr>
						<td><input type="checkbox" /></td>
						<td>10.134.1.2</td>
						<td>7777</td>
						<td>
							<a class="edit">编辑</a> | <a class="del">删除</a>
						</td>
					</tr>
					<tr>
						<td><input type="checkbox" /></td>
						<td>10.134.1.3</td>
						<td>9999</td>
						<td><a class="edit">编辑</a> | <a class="del">删除</a>
						</td>
					</tr>
					<tr>
						<td><input type="checkbox" /></td>
						<td>10.134.1.4</td>
						<td>6666</td>
						<td>
							<a class="edit">编辑</a> | <a class="del">删除</a>
						</td>
					</tr>
				</tbody>				
			</table>
		</div>
		<div class="shadow hide"></div>
		<script src="js/jquery-1.12.4.js"></script>
		<script>
			//删除
			$('.del').click(function(){
				$(this).parent().parent().remove();
			})
			//点击添加按钮，弹出框弹出
			function addElement(){
				$('.model,.shadow').removeClass('hide');
			}
			//点击弹出框中确定按钮，添加一行
			function confirmmodel(){
				//方法一,添加一个静态的
				var tr=document.createElement('tr');
				var td1=document.createElement('td');
				var ip1=document.createElement('input');
				ip1.setAttribute('type','checkbox');
				var td2=document.createElement('td');
				td2.innerHTML="1.1.1.1";
				var td3=document.createElement('td');
				td3.innerHTML='8999';
				var td4=document.createElement('td');
				var a1=document.createElement('a');
				a1.innerHTML='编辑';
				var a2=document.createElement('a');
				a2.innerHTML='删除';
				$(td1).append(ip1);
				$(tr).append(td1);
				$(tr).append(td2);
				$(tr).append(td3);
				$(td4).append(a1);
				$(td4).append(" | ");
				$(td4).append(a2);
				$(tr).append(td4);
				
				$('.tb').append(tr);
				$('.model').addClass('hide');
				$('.shadow').addClass('hide');
				
			}
			//点击弹出框中的取消按钮，弹出框消失
			function cancelmodel(){
				$('.model,.shadow').addClass('hide');
				$('.model input[type="text"]').val('');
			}
			
			//循环tds
			//获取标签内内容
			//赋值给input标签的内容addElement
			//$(..).text()获取文本内容，$(..).text("内容")，给文本赋值
			//$(..).html()获取标签内容，$(..).html("内容")，给标签赋值
			//$(..).val()获取文本内容，$(..).val("内容")，给文本赋值
			//编辑
			$('.edit').click(function(){
				$('.model,.shadow').removeClass('hide')
				var tds = $(this).parent().prevAll();
			    var port = $(tds[0]).text();
				var host = $(tds[1]).text();
				$('.model input[name="host"]').val(host);
				$('.model input[name="port"]').val(port);
			})
		</script>
	</body>
</html>
